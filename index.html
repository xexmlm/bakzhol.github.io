<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bakzhol</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #121212;
    color: #fff;
}

.card {
    background: rgba(0,0,0,0.5);
    border-radius: 24px;
    border: 2px solid #8c63ff;
    padding: 32px;
    width: 100%;
    max-width: 420px;
    margin: 50px auto;
    text-align: center;
}

.avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #8c63ff;
    margin-bottom: 16px;
}

.links a {
    display: block;
    width: 100%;
    background: #8c63ff;
    color: #fff;
    padding: 14px 0;
    margin: 8px 0;
    border-radius: 14px;
    text-decoration: none;
    font-weight: bold;
    font-size: 16px;
}

#playBtn {
    display: none; /* Сначала скрыта */
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 24px;
    font-size: 18px;
    background: #8c63ff;
    color: #fff;
    border: none;
    border-radius: 14px;
    cursor: pointer;
    z-index: 1000;
}

#gameContainer {
    display: none;
    text-align: center;
    margin-top: 50px;
}

canvas {
    background-color: #000;
    display: block;
    margin: 0 auto;
    border: 2px solid #8c63ff;
}
</style>
</head>
<body>

<div class="card">
    <img src="avatar.jpg" class="avatar" alt="Avatar">
    <h1 id="name">Bakzhol Sadyrzhanuly</h1>
    <p class="subtitle">Kazakhstan | <span id="age">16</span> y.o</p>

    <div class="links">
        <a href="http://t.me/xexmlm" target="_blank">Telegram</a>
        <a href="https://www.instagram.com/xexmlm" target="_blank">Instagram</a>
        <a href="https://www.tiktok.com/@xexmlm" target="_blank">TikTok</a>
        <a href="https://anixart-app.com//profile/4412097" target="_blank">Anixart</a>
        <a href="https://discordapp.com/users/1438334571841192092" target="_blank">Discord</a>
        <a href="https://wa.me/+77770868810" target="_blank">WhatsApp</a>
    </div>
    <p class="footer">Created by Bakzhol</p>
</div>

<button id="playBtn">Play Snake</button>

<div id="gameContainer">
    <canvas id="snakeCanvas" width="400" height="400"></canvas>
</div>

<script>
// Автоматический возраст
const birthDate = new Date(2009, 3, 18);
const today = new Date();
let age = today.getFullYear() - birthDate.getFullYear();
const m = today.getMonth() - birthDate.getMonth();
if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) { age--; }
document.getElementById("age").textContent = age;

// Показ кнопки Play при скролле вниз
const playBtn = document.getElementById("playBtn");
window.addEventListener("scroll", () => {
    if (window.scrollY > 100) {
        playBtn.style.display = "block";
    } else {
        playBtn.style.display = "none";
    }
});

// Игра "Змейка"
playBtn.addEventListener("click", () => {
    document.getElementById("gameContainer").style.display = "block";
    playBtn.style.display = "none";
    startSnakeGame();
});

function startSnakeGame() {
    const canvas = document.getElementById("snakeCanvas");
    const ctx = canvas.getContext("2d");

    const box = 20;
    let snake = [];
    snake[0] = { x: 9 * box, y: 10 * box };
    let food = { x: Math.floor(Math.random() * 20) * box, y: Math.floor(Math.random() * 20) * box };
    let score = 0;
    let d;
    document.addEventListener("keydown", direction);

    function direction(event) {
        if(event.keyCode == 37 && d != "RIGHT") d = "LEFT";
        else if(event.keyCode == 38 && d != "DOWN") d = "UP";
        else if(event.keyCode == 39 && d != "LEFT") d = "RIGHT";
        else if(event.keyCode == 40 && d != "UP") d = "DOWN";
    }

    function collision(head, array) {
        for(let i=0; i<array.length; i++){
            if(head.x == array[i].x && head.y == array[i].y) return true;
        }
        return false;
    }

    function draw() {
        ctx.fillStyle = "#000";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        for(let i=0; i<snake.length; i++){
            ctx.fillStyle = (i == 0)? "#8c63ff" : "#fff";
            ctx.fillRect(snake[i].x, snake[i].y, box, box);
        }

        ctx.fillStyle = "#ff4d4d";
        ctx.fillRect(food.x, food.y, box, box);

        let snakeX = snake[0].x;
        let snakeY = snake[0].y;

        if(d == "LEFT") snakeX -= box;
        if(d == "UP") snakeY -= box;
        if(d == "RIGHT") snakeX += box;
        if(d == "DOWN") snakeY += box;

        if(snakeX == food.x && snakeY == food.y){
            score++;
            food = { x: Math.floor(Math.random()*20)*box, y: Math.floor(Math.random()*20)*box };
        } else {
            snake.pop();
        }

        let newHead = { x: snakeX, y: snakeY };

        if(snakeX < 0 || snakeY < 0 || snakeX >= canvas.width || snakeY >= canvas.height || collision(newHead, snake)){
            clearInterval(game);
            alert("Game Over! Score: " + score);
        }

        snake.unshift(newHead);
    }

    let game = setInterval(draw, 150);
}
</script>

</body>
  </html>
